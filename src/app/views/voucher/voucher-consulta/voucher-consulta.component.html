<div class="card shadow-sm">
    <div class="card-header formTitle">
        <div class="row">
            <div class="col-6">
                <h5 class="mb-0">
                    <i class="fas fa-file-alt"></i> Consulta de Comprobante
                    <!-- <fa-icon [icon]='faFileInvoice' class='mr-2'></fa-icon> {{ 'CMXEstadoCuenta.ComprobantePago' | translate }} -->
                </h5>
            </div>
        </div>
    </div>
    <form (ngSubmit)="doSearch()" novalidate class="animated fadeIn" [formGroup]="CMXFormGroup" [@showHideFormBusqueda]="showResult ? 'collapse' : 'show'">
        <div class="card-body">
            <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="inputName">Nombre</label>
                  <input type="tex" class="form-control" id="inputName" formControlName="name" placeholder="Nombre">
                </div>
              </div>
        </div>
        
        <div class="card-footer">
            <div class="row">
                <div class="col text-right">
                    <button class="btn btn-outline btn-outline-primary mr-2" type="button" (click)="showPreviousResults()" *ngIf="this.source.count() > 0">
                        <i class="fas fa-undo"></i> Ver resultados actuales
                    </button>
                    <button class="btn btn-primary" type="submit" [disabled]="!CMXFormGroup.valid">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                </div>
            </div>
        </div>
    </form>

<div class="card-body" *ngIf="!showFormSearch" [@showHideFormBusqueda]="showFormSearch ? 'collapse' : 'show'">
    <div class="row">
        <div class="col">
            <div class="d-flex bd-highligh">

                <div class="flex-grow-1 bd-highlight d-none d-lg-block">
                    <app-applied-filters [filterItems]="filterItems" [isFirstSearch]="isFirstSearch" [searchState]="showResult"></app-applied-filters>
                </div>
                <div>
                    <button class="btn btn-sm btn-outline-dark mr-2" type="button" (click)="resetFilters()">
                        <fa-icon [icon]='faTimes'></fa-icon> Limpiar Filtros
                    </button>
                    <button class="btn btn-sm btn-primary" type="button" (click)="resetForm()" [@showHideFormBusqueda]="showFormSearch ? 'collapse' : 'show'">
                        <fa-icon [icon]='faSearch'></fa-icon> Realizar nueva b√∫squeda
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<div class="card shadow-sm" *ngIf="showResult" [@showHideContent]>
    <div class="card-body">
        <div class="row">
            <div class="col-md-12">

                <div class="d-flex bd-highligh mb-2">

                    <div class="flex-grow-1 bd-highlight d-none d-lg-block">
                      
                        <button class="btn btn-outline-primary mr-2" type="button" (click)="exportToExcel()" [disabled]="exportToExcelDisabled">
                            <i class="far fa-file-excel"></i> Exportar a Excel
                        </button>
                        
                    </div>

                    <div class="cmx-pagination bd-highlight text-right mb-3">
                        <div class="btn-group">

                        </div>
                        <label class="ml-2 text-muted">{{paginatorText}}</label>
                    </div>

                </div>

                <div class="table-responsive">
                    <ng2-smart-table #smartTable [settings]="settings" [source]="source" class="table-responsive-md"></ng2-smart-table>
                </div>

            </div>
        </div>
    </div>
</div>

